# E2E テストシナリオ

## シナリオ1: 無効なユーザーIDによるフォーム送信

### テスト概要

無効なユーザーIDを使用してフォームを送信し、エラーメッセージが表示されることを確認する。

### 手順

1. フロントエンドのページにアクセスする。

   - URL: `http://localhost:3000`
   - 期待結果: ページが正しく表示され、タイトルが `家計簿アプリ` であること。

2. `家計の登録フォーム` が表示されていることを確認する。

3. フォームに以下のデータを入力する:

   - 日付: `2024-08-11`
   - 金額: `1000`
   - 種類: `income`
   - 詳細: `Test Income`
   - ユーザID: `-1`

4. `登録` ボタンをクリックする。

5. アラートメッセージを確認する。

   - 期待結果: アラートに `無効なユーザーIDです` が表示されること。※画面操作は成功していないがe2eはテスト通っている。

6. バックエンドのエンドポイントを確認する。
   - URL: `http://localhost:4000/users/user-exists/-1`
   - 期待結果: ステータスコードが `200` であり、レスポンスの `exists` フィールドが `false` であること。

## シナリオ2: 有効なユーザーIDによるフォーム送信

### テスト概要

有効なユーザーIDを使用してフォームを送信し、成功メッセージが表示されることを確認する。

### 手順

1. フロントエンドのページにアクセスする。

   - URL: `http://localhost:3000`
   - 期待結果: ページが正しく表示され、タイトルが `家計簿アプリ` であること。

2. `家計の登録フォーム` が表示されていることを確認する。

3. フォームに以下のデータを入力する:

   - 日付: `2024-08-11`
   - 金額: `1000`
   - 種類: `income`
   - 詳細: `Test Income`
   - ユーザID: `1` (存在するユーザーID)

4. `登録` ボタンをクリックする。

5. 成功メッセージを確認する。

   - 期待結果: アラートに `登録が成功しました` が表示されること。

6. バックエンドのエンドポイントを確認する。
   - URL: `http://localhost:4000/users/user-exists/1`
   - 期待結果: ステータスコードが `200` であり、レスポンスの `exists` フィールドが `true` であること。
